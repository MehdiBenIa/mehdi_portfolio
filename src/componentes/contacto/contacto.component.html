

<div class="bg-gray-800 p-8 rounded-lg shadow-xl max-w-2xl mx-auto">
  <h2 class="text-3xl font-bold text-cyan-400 mb-8 text-center">Contacto</h2>

  @if (submissionStatus() === 'success') {
    <div class="text-center bg-green-900/50 border border-green-500 text-green-300 p-4 rounded-lg">
      <p class="font-bold text-lg">¡Mensaje enviado con éxito!</p>
      <p>Gracias por contactarme. Te responderé lo antes posible.</p>
      <button (click)="resetForm()" class="mt-4 bg-cyan-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-cyan-600 transition-colors">
        Enviar otro mensaje
      </button>
    </div>
  } @else {
    <p class="text-center text-gray-400 mb-6">
      ¿Tienes alguna pregunta o propuesta? No dudes en enviarme un mensaje.
    </p>
    <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="space-y-6">
      <div>
        <label for="name" class="block text-sm font-medium text-gray-300">Nombre</label>
        <input type="text" id="name" formControlName="name"
               class="mt-1 block w-full bg-gray-900 border border-gray-700 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-cyan-500 focus:border-cyan-500"
               [class.border-red-500]="name?.invalid && name?.touched">
        @if (name?.invalid && name?.touched) {
          <div class="text-red-400 text-sm mt-1">
            @if (name?.errors?.['required']) { <p>El nombre es requerido.</p> }
            @if (name?.errors?.['minlength']) { <p>El nombre debe tener al menos 3 caracteres.</p> }
          </div>
        }
      </div>

      <div>
        <label for="email" class="block text-sm font-medium text-gray-300">Email</label>
        <input type="email" id="email" formControlName="email"
               class="mt-1 block w-full bg-gray-900 border border-gray-700 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-cyan-500 focus:border-cyan-500"
               [class.border-red-500]="email?.invalid && email?.touched">
        @if (email?.invalid && email?.touched) {
          <div class="text-red-400 text-sm mt-1">
            @if (email?.errors?.['required']) { <p>El email es requerido.</p> }
            @if (email?.errors?.['email']) { <p>Por favor, introduce un email válido.</p> }
          </div>
        }
      </div>

      <div>
        <label for="message" class="block text-sm font-medium text-gray-300">Mensaje</label>
        <textarea id="message" formControlName="message" rows="4"
                  class="mt-1 block w-full bg-gray-900 border border-gray-700 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-cyan-500 focus:border-cyan-500"
                  [class.border-red-500]="message?.invalid && message?.touched"></textarea>
        @if (message?.invalid && message?.touched) {
          <div class="text-red-400 text-sm mt-1">
            @if (message?.errors?.['required']) { <p>El mensaje es requerido.</p> }
            @if (message?.errors?.['minlength']) { <p>El mensaje debe tener al menos 10 caracteres.</p> }
          </div>
        }
      </div>
      
      <div>
        <button type="submit" [disabled]="submissionStatus() === 'sending'" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">
          @if (submissionStatus() === 'sending') {
            <span>Enviando...</span>
          } @else {
            <span>Enviar Mensaje</span>
          }
        </button>
      </div>
    </form>
  }
</div>
